(()=>{var e={};e.id=8644,e.ids=[8644],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57085:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o}),s(37046),s(13321),s(12734),s(35866);var a=s(23191),t=s(88716),i=s(37922),n=s.n(i),d=s(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(r,l);let o=["",{children:["dashboard",{children:["addpricing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,37046)),"C:\\Users\\malin\\OneDrive\\Desktop\\new2\\Moteregna\\app\\dashboard\\addpricing\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13321)),"C:\\Users\\malin\\OneDrive\\Desktop\\new2\\Moteregna\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,12734)),"C:\\Users\\malin\\OneDrive\\Desktop\\new2\\Moteregna\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\malin\\OneDrive\\Desktop\\new2\\Moteregna\\app\\dashboard\\addpricing\\page.tsx"],p="/dashboard/addpricing/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/addpricing/page",pathname:"/dashboard/addpricing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},52009:(e,r,s)=>{Promise.resolve().then(s.bind(s,66713))},66713:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>x});var a=s(10326),t=s(17577),i=s(90772),n=s(33071),d=s(54432),l=s(92397),o=s(35047),c=s(15940),p=s(567),u=s(79635),m=s(85999);function x(){(0,o.useRouter)();let[e,r]=(0,t.useState)({basePrice:"",perKmPrice:""}),[s,x]=(0,t.useState)([]),[f,b]=(0,t.useState)(!0),[h,g]=(0,t.useState)(""),j=e=>{let{name:s,value:a}=e.target;r(e=>({...e,[s]:a}))},v=async s=>{s.preventDefault();try{let s=await fetch("/api/prices/addnew",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({basePrice:Number(e.basePrice),perKmPrice:Number(e.perKmPrice)})});if(!s.ok){let e=await s.json();throw Error(e.message||"Failed to create pricing")}let{data:a}=await s.json();x(e=>[a,...e]),r({basePrice:"",perKmPrice:""}),m.Am.success("Pricing created successfully")}catch(e){m.Am.error(e instanceof Error?e.message:"Failed to create pricing")}};return f&&0===s.length?a.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h2",{className:"text-2xl font-bold",children:"Add New Pricing"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Your Pricing History"}),a.jsx(n.SZ,{children:"Recent pricing you've created"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"rounded-md border",children:(0,a.jsxs)(c.iA,{children:[a.jsx(c.xD,{children:(0,a.jsxs)(c.SC,{children:[a.jsx(c.ss,{children:"Base Price"}),a.jsx(c.ss,{children:"Per KM Price"}),a.jsx(c.ss,{children:"Created"}),a.jsx(c.ss,{children:"Updated By"})]})}),a.jsx(c.RM,{children:s.length>0?s.map(e=>(0,a.jsxs)(c.SC,{children:[(0,a.jsxs)(c.pj,{children:[e.basePrice.toFixed(2)," ETB"]}),(0,a.jsxs)(c.pj,{children:[e.perKmPrice.toFixed(2)," ETB"]}),a.jsx(c.pj,{children:a.jsx(p.C,{variant:"outline",children:e.createdAt})}),a.jsx(c.pj,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(u.Z,{className:"mr-2 h-4 w-4 text-primary"}),e.updatedBy]})})]},e.id)):a.jsx(c.SC,{children:a.jsx(c.pj,{colSpan:4,className:"h-24 text-center",children:"No pricing history found"})})})]})})})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Create New Pricing"}),a.jsx(n.SZ,{children:"Add new base and per kilometer pricing"})]}),a.jsx(n.aY,{children:(0,a.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(l._,{htmlFor:"basePrice",children:"Base Price (ETB)"}),a.jsx(d.I,{id:"basePrice",name:"basePrice",type:"number",step:"0.01",min:"0",placeholder:"10.00",value:e.basePrice,onChange:j,required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(l._,{htmlFor:"perKmPrice",children:"Per Kilometer Price (ETB)"}),a.jsx(d.I,{id:"perKmPrice",name:"perKmPrice",type:"number",step:"0.01",min:"0",placeholder:"2.50",value:e.perKmPrice,onChange:j,required:!0})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(i.z,{type:"button",variant:"outline",onClick:()=>{r({basePrice:"",perKmPrice:""})},children:"Clear"}),a.jsx(i.z,{type:"submit",children:"Create Pricing"})]})]})})]})]})]})}},567:(e,r,s)=>{"use strict";s.d(r,{C:()=>d});var a=s(10326);s(17577);var t=s(79360),i=s(77863);let n=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:r,...s}){return a.jsx("div",{className:(0,i.cn)(n({variant:r}),e),...s})}},54432:(e,r,s)=>{"use strict";s.d(r,{I:()=>n});var a=s(10326),t=s(17577),i=s(77863);let n=t.forwardRef(({className:e,type:r,...s},t)=>a.jsx("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));n.displayName="Input"},92397:(e,r,s)=>{"use strict";s.d(r,{_:()=>p});var a=s(10326),t=s(17577);s(60962);var i=s(34214),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let s=t.forwardRef((e,s)=>{let{asChild:t,...n}=e,d=t?i.g7:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(d,{...n,ref:s})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),d=t.forwardRef((e,r)=>(0,a.jsx)(n.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));d.displayName="Label";var l=s(79360),o=s(77863);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=t.forwardRef(({className:e,...r},s)=>a.jsx(d,{ref:s,className:(0,o.cn)(c(),e),...r}));p.displayName=d.displayName},15940:(e,r,s)=>{"use strict";s.d(r,{RM:()=>l,SC:()=>o,iA:()=>n,pj:()=>p,ss:()=>c,xD:()=>d});var a=s(10326),t=s(17577),i=s(77863);let n=t.forwardRef(({className:e,...r},s)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",e),...r})}));n.displayName="Table";let d=t.forwardRef(({className:e,...r},s)=>a.jsx("thead",{ref:s,className:(0,i.cn)("[&_tr]:border-b",e),...r}));d.displayName="TableHeader";let l=t.forwardRef(({className:e,...r},s)=>a.jsx("tbody",{ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...r}));l.displayName="TableBody",t.forwardRef(({className:e,...r},s)=>a.jsx("tfoot",{ref:s,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let o=t.forwardRef(({className:e,...r},s)=>a.jsx("tr",{ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));o.displayName="TableRow";let c=t.forwardRef(({className:e,...r},s)=>a.jsx("th",{ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));c.displayName="TableHead";let p=t.forwardRef(({className:e,...r},s)=>a.jsx("td",{ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));p.displayName="TableCell",t.forwardRef(({className:e,...r},s)=>a.jsx("caption",{ref:s,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption"},79635:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},37046:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`C:\Users\malin\OneDrive\Desktop\new2\Moteregna\app\dashboard\addpricing\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[1448,8270,6447,5999,8149],()=>s(57085));module.exports=a})();