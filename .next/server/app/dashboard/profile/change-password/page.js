(()=>{var e={};e.id=2866,e.ids=[2866],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},42502:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l}),r(58404),r(13321),r(36710),r(35866);var a=r(23191),t=r(88716),o=r(37922),n=r.n(o),i=r(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(s,d);let l=["",{children:["dashboard",{children:["profile",{children:["change-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,58404)),"C:\\Users\\hp\\Desktop\\gibemarket\\Moteregna\\new\\Moteregna\\app\\dashboard\\profile\\change-password\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13321)),"C:\\Users\\hp\\Desktop\\gibemarket\\Moteregna\\new\\Moteregna\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,36710)),"C:\\Users\\hp\\Desktop\\gibemarket\\Moteregna\\new\\Moteregna\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\hp\\Desktop\\gibemarket\\Moteregna\\new\\Moteregna\\app\\dashboard\\profile\\change-password\\page.tsx"],p="/dashboard/profile/change-password/page",h={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/profile/change-password/page",pathname:"/dashboard/profile/change-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},68886:(e,s,r)=>{Promise.resolve().then(r.bind(r,2240))},2240:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>g});var a=r(10326),t=r(90772),o=r(33071),n=r(54432),i=r(31048),d=r(35047),l=r(17577),c=r(86333),p=r(9015),h=r(91216),u=r(12714),w=r(34789),m=r(77083);function g(){let e=(0,d.useRouter)(),[s,r]=(0,l.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[g,x]=(0,l.useState)(!1),[f,P]=(0,l.useState)(!1),[v,b]=(0,l.useState)(!1),[y,j]=(0,l.useState)(!1),N=e=>{let{name:s,value:a}=e.target;r(e=>({...e,[s]:a}))},k=async a=>{if(a.preventDefault(),!s.currentPassword||!s.newPassword||!s.confirmPassword){(0,w.Am)({title:"Validation Error",description:"All fields are required",variant:"destructive"});return}if(s.newPassword!==s.confirmPassword){(0,w.Am)({title:"Passwords Don't Match",description:"New password and confirmation must match",variant:"destructive"});return}if(s.newPassword.length<8){(0,w.Am)({title:"Password Too Short",description:"New password must be at least 8 characters long",variant:"destructive"});return}try{x(!0);let a=await fetch("/getdata/profile/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:s.currentPassword,newPassword:s.newPassword})}),t=await a.json();if(t.success)(0,w.Am)({title:"Password Updated",description:"Your password has been changed successfully"}),r({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{e.push("/dashboard")},2e3);else throw Error(t.message||"Failed to change password")}catch(e){console.error("Error changing password:",e),(0,w.Am)({title:"Password Change Failed",description:e.message||"An error occurred while changing your password",variant:"destructive"})}finally{x(!1)}};return(0,a.jsxs)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:[a.jsx(m.x,{}),(0,a.jsxs)(o.Zb,{className:"w-full max-w-md",children:[a.jsx(o.Ol,{children:(0,a.jsxs)(o.ll,{className:"flex items-center",children:[a.jsx(t.z,{variant:"ghost",className:"p-0 mr-2",onClick:()=>e.back(),children:a.jsx(c.Z,{className:"h-5 w-5"})}),a.jsx(p.Z,{className:"mr-2 h-5 w-5"})," Change Password"]})}),a.jsx(o.aY,{children:(0,a.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(i._,{htmlFor:"currentPassword",children:"Current Password"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(n.I,{id:"currentPassword",name:"currentPassword",type:f?"text":"password",value:s.currentPassword,onChange:N,className:"pr-10"}),a.jsx(t.z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>P(!f),children:f?a.jsx(h.Z,{className:"h-4 w-4"}):a.jsx(u.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(i._,{htmlFor:"newPassword",children:"New Password"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(n.I,{id:"newPassword",name:"newPassword",type:v?"text":"password",value:s.newPassword,onChange:N,className:"pr-10"}),a.jsx(t.z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>b(!v),children:v?a.jsx(h.Z,{className:"h-4 w-4"}):a.jsx(u.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(i._,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(n.I,{id:"confirmPassword",name:"confirmPassword",type:y?"text":"password",value:s.confirmPassword,onChange:N,className:"pr-10"}),a.jsx(t.z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>j(!y),children:y?a.jsx(h.Z,{className:"h-4 w-4"}):a.jsx(u.Z,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"pt-2",children:a.jsx(t.z,{type:"submit",className:"w-full",disabled:g,children:g?"Changing Password...":"Change Password"})})]})})]})]})}},86333:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},91216:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(62881).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},12714:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(62881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9015:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(62881).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},58404:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`C:\Users\hp\Desktop\gibemarket\Moteregna\new\Moteregna\app\dashboard\profile\change-password\page.tsx#default`)},29152:(e,s,r)=>{"use strict";r.d(s,{f:()=>d});var a=r(17577);r(60962);var t=r(34214),o=r(10326),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>{let r=a.forwardRef((e,r)=>{let{asChild:a,...n}=e,i=a?t.g7:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(i,{...n,ref:r})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{}),i=a.forwardRef((e,s)=>(0,o.jsx)(n.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var d=i}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[9276,232,187,9679,2728,8370],()=>r(42502));module.exports=a})();