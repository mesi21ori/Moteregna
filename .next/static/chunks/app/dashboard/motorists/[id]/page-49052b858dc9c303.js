(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{67400:function(e,s,r){Promise.resolve().then(r.bind(r,28180))},28180:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return w}});var t=r(57437),a=r(2265),n=r(99376),i=r(33145),l=r(27648),d=r(32660),c=r(92369),o=r(57662),m=r(32819),u=r(60044),f=r(92735),x=r(62869),h=r(66070),j=r(12339),v=r(35974),N=r(90759),g=r(94508);let b=a.forwardRef((e,s)=>{let{className:r,orientation:a="horizontal",decorative:n=!0,...i}=e;return(0,t.jsx)(N.f,{ref:s,decorative:n,orientation:a,className:(0,g.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",r),...i})});b.displayName=N.f.displayName;var p=r(14438);function w(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),r=null==e?void 0:e.id,[N,g]=(0,a.useState)(null),[w,y]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=async()=>{try{y(!0);let e=await fetch("/api/motorist/".concat(r),{credentials:"include"});if(!e.ok)throw Error("Failed to fetch motorist details");let s=await e.json();g(s)}catch(e){p.Am.error(e instanceof Error?e.message:"Failed to load motorist details"),e instanceof Error&&e.message.includes("Unauthorized")&&s.push("/login")}finally{y(!1)}};r&&e()},[r,s]),w||!N)?(0,t.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,t.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.z,{variant:"outline",size:"icon",asChild:!0,children:(0,t.jsx)(l.default,{href:"/dashboard/motorists",children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Motorist Details"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(v.C,{variant:"active"===N.status?"default":"secondary",children:"active"===N.status?"Active":"Inactive"}),(0,t.jsx)(v.C,{variant:N.isOnline?"default":"secondary",children:N.isOnline?"Online":"Offline"}),(0,t.jsx)(v.C,{variant:N.isAvailable?"default":"secondary",children:N.isAvailable?"Available":"Unavailable"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsxs)(h.Zb,{className:"glass-card border-0 shadow-lg md:col-span-1",children:[(0,t.jsx)(h.Ol,{className:"pb-2",children:(0,t.jsx)(h.ll,{children:"Profile"})}),(0,t.jsxs)(h.aY,{className:"flex flex-col items-center text-center",children:[(0,t.jsx)("div",{className:"relative w-32 h-32 mb-4 rounded-full overflow-hidden border-4 border-background",children:(0,t.jsx)(i.default,{src:N.profilePhoto,alt:N.name,fill:!0,className:"object-cover"})}),(0,t.jsx)("h2",{className:"text-xl font-bold",children:N.name}),(0,t.jsx)("p",{className:"text-muted-foreground",children:N.email}),(0,t.jsx)("p",{className:"text-muted-foreground",children:N.phone}),(0,t.jsx)(b,{className:"my-4"}),(0,t.jsxs)("div",{className:"grid w-full text-left gap-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"License:"}),(0,t.jsx)("span",{className:"font-medium",children:N.licenseNumber})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Vehicle:"}),(0,t.jsx)("span",{className:"font-medium",children:N.vehiclePlate})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Registered:"}),(0,t.jsx)("span",{className:"font-medium",children:new Date(N.registrationDate).toLocaleDateString()})]}),N.currentLocation&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Location:"}),(0,t.jsx)("span",{className:"font-medium",children:N.currentLocation})]})]})]})]}),(0,t.jsxs)(h.Zb,{className:"glass-card border-0 shadow-lg md:col-span-2",children:[(0,t.jsxs)(h.Ol,{children:[(0,t.jsx)(h.ll,{children:"Motorist Information"}),(0,t.jsx)(h.SZ,{children:"Complete details and attachments"})]}),(0,t.jsx)(h.aY,{children:(0,t.jsxs)(j.mQ,{defaultValue:"personal",children:[(0,t.jsxs)(j.dr,{className:"grid grid-cols-4 mb-4",children:[(0,t.jsxs)(j.SP,{value:"personal",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 mr-2 hidden sm:inline-block"}),"Personal"]}),(0,t.jsxs)(j.SP,{value:"vehicle",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-2 hidden sm:inline-block"}),"Vehicle"]}),(0,t.jsxs)(j.SP,{value:"license",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2 hidden sm:inline-block"}),"License"]}),(0,t.jsxs)(j.SP,{value:"business",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2 hidden sm:inline-block"}),"Business"]})]}),(0,t.jsxs)(j.nU,{value:"personal",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),(0,t.jsx)("p",{className:"text-base",children:N.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Email Address"}),(0,t.jsx)("p",{className:"text-base",children:N.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Phone Number"}),(0,t.jsx)("p",{className:"text-base",children:N.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Registration Date"}),(0,t.jsx)("p",{className:"text-base",children:new Date(N.registrationDate).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),(0,t.jsx)("p",{className:"text-base",children:N.address})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Profile Photo"}),(0,t.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden border",children:(0,t.jsx)(i.default,{src:N.profilePhoto,alt:"Profile Photo",fill:!0,className:"object-contain"})}),(0,t.jsxs)(x.z,{variant:"outline",size:"sm",className:"mt-2",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Download Photo"]})]})]}),(0,t.jsxs)(j.nU,{value:"vehicle",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Vehicle Model"}),(0,t.jsx)("p",{className:"text-base",children:N.vehicleModel})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Plate Number"}),(0,t.jsx)("p",{className:"text-base",children:N.vehiclePlate})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Year"}),(0,t.jsx)("p",{className:"text-base",children:N.vehicleYear})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Color"}),(0,t.jsx)("p",{className:"text-base",children:N.vehicleColor})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Vehicle Photo"}),(0,t.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden border",children:(0,t.jsx)(i.default,{src:N.vehiclePhoto,alt:"Vehicle Photo",fill:!0,className:"object-contain"})}),(0,t.jsxs)(x.z,{variant:"outline",size:"sm",className:"mt-2",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Download Photo"]})]})]}),(0,t.jsxs)(j.nU,{value:"license",className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"License Number"}),(0,t.jsx)("p",{className:"text-base",children:N.licenseNumber})]})}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-sm font-medium mb-2",children:"License Photo"}),(0,t.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden border",children:(0,t.jsx)(i.default,{src:N.licensePhoto,alt:"License Photo",fill:!0,className:"object-contain"})}),(0,t.jsxs)(x.z,{variant:"outline",size:"sm",className:"mt-2",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Download Photo"]})]})]}),(0,t.jsx)(j.nU,{value:"business",className:"space-y-4",children:(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Business Permit"}),(0,t.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden border",children:(0,t.jsx)(i.default,{src:N.businessPermitPhoto,alt:"Business Permit",fill:!0,className:"object-contain"})}),(0,t.jsxs)(x.z,{variant:"outline",size:"sm",className:"mt-2",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Download Document"]})]})})]})})]})]})]})}},35974:function(e,s,r){"use strict";r.d(s,{C:function(){return l}});var t=r(57437);r(2265);var a=r(90535),n=r(94508);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)(i({variant:r}),s),...a})}},62869:function(e,s,r){"use strict";r.d(s,{z:function(){return c}});var t=r(57437),a=r(2265),n=r(37053),i=r(90535),l=r(94508);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:r,variant:a,size:i,asChild:c=!1,...o}=e,m=c?n.g7:"button";return(0,t.jsx)(m,{className:(0,l.cn)(d({variant:a,size:i,className:r})),ref:s,...o})});c.displayName="Button"},66070:function(e,s,r){"use strict";r.d(s,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},eW:function(){return m},ll:function(){return d}});var t=r(57437),a=r(2265),n=r(94508);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let m=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});m.displayName="CardFooter"},12339:function(e,s,r){"use strict";r.d(s,{SP:function(){return c},dr:function(){return d},mQ:function(){return l},nU:function(){return o}});var t=r(57437),a=r(2265),n=r(99305),i=r(94508);let l=n.fC,d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});d.displayName=n.aV.displayName;let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});c.displayName=n.xz.displayName;let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});o.displayName=n.VY.displayName},94508:function(e,s,r){"use strict";r.d(s,{cn:function(){return n}});var t=r(61994),a=r(53335);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.m6)((0,t.W)(s))}}},function(e){e.O(0,[317,30,648,305,375,971,117,744],function(){return e(e.s=67400)}),_N_E=e.O()}]);