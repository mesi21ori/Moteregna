(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{80215:function(e,t,s){Promise.resolve().then(s.bind(s,59021))},59021:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var r=s(57437),n=s(2265),i=s(99376),a=s(48461),l=s.n(a),o=s(27648),c=s(32660),d=s(92369),u=s(57662),m=s(79205);let f=(0,m.Z)("Copyright",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M14.83 14.83a4 4 0 1 1 0-5.66",key:"1i56pz"}]]),h=(0,m.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var x=s(92735),v=s(62869),p=s(66070),j=s(12339),g=s(35974);s(54887);var N=s(37053),b=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let s=n.forwardRef((e,s)=>{let{asChild:n,...i}=e,a=n?N.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(a,{...i,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),y="horizontal",w=["horizontal","vertical"],P=n.forwardRef((e,t)=>{let{decorative:s,orientation:n=y,...i}=e,a=w.includes(n)?n:y;return(0,r.jsx)(b.div,{"data-orientation":a,...s?{role:"none"}:{"aria-orientation":"vertical"===a?a:void 0,role:"separator"},...i,ref:t})});P.displayName="Separator";var k=s(94508);let z=n.forwardRef((e,t)=>{let{className:s,orientation:n="horizontal",decorative:i=!0,...a}=e;return(0,r.jsx)(P,{ref:t,decorative:i,orientation:n,className:(0,k.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",s),...a})});z.displayName=P.displayName;var C=s(14438);function M(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),s=null==e?void 0:e.id,[a,m]=(0,n.useState)(null),[N,b]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let e=async()=>{try{b(!0);let e=await fetch("/api/motorist/".concat(s),{credentials:"include"});if(!e.ok)throw Error("Failed to fetch motorist details");let t=await e.json();m(t)}catch(e){C.Am.error(e instanceof Error?e.message:"Failed to load motorist details"),e instanceof Error&&e.message.includes("Unauthorized")&&t.push("/login")}finally{b(!1)}};s&&e()},[s,t]),N||!a)?(0,r.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,r.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(v.z,{variant:"outline",size:"icon",asChild:!0,children:(0,r.jsx)(o.default,{href:"/dashboard/motorists",children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Motorist Details"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(g.C,{variant:"active"===a.status?"default":"secondary",children:"active"===a.status?"Active":"Inactive"}),(0,r.jsx)(g.C,{variant:a.isOnline?"default":"secondary",children:a.isOnline?"Online":"Offline"}),(0,r.jsx)(g.C,{variant:a.isAvailable?"default":"secondary",children:a.isAvailable?"Available":"Unavailable"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,r.jsxs)(p.Zb,{className:"glass-card border-0 shadow-lg md:col-span-1",children:[(0,r.jsx)(p.Ol,{className:"pb-2",children:(0,r.jsx)(p.ll,{children:"Profile"})}),(0,r.jsxs)(p.aY,{className:"flex flex-col items-center text-center",children:[(0,r.jsx)("div",{className:"relative w-32 h-32 mb-4 rounded-full overflow-hidden border-4 border-background",children:(0,r.jsx)(l(),{src:a.profilePhoto,alt:a.name,fill:!0,className:"object-cover"})}),(0,r.jsx)("h2",{className:"text-xl font-bold",children:a.name}),(0,r.jsx)("p",{className:"text-muted-foreground",children:a.email}),(0,r.jsx)("p",{className:"text-muted-foreground",children:a.phone}),(0,r.jsx)(z,{className:"my-4"}),(0,r.jsxs)("div",{className:"grid w-full text-left gap-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"License:"}),(0,r.jsx)("span",{className:"font-medium",children:a.licenseNumber})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Vehicle:"}),(0,r.jsx)("span",{className:"font-medium",children:a.vehiclePlate})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Registered:"}),(0,r.jsx)("span",{className:"font-medium",children:new Date(a.registrationDate).toLocaleDateString()})]}),a.currentLocation&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Location:"}),(0,r.jsx)("span",{className:"font-medium",children:a.currentLocation})]})]})]})]}),(0,r.jsxs)(p.Zb,{className:"glass-card border-0 shadow-lg md:col-span-2",children:[(0,r.jsxs)(p.Ol,{children:[(0,r.jsx)(p.ll,{children:"Motorist Information"}),(0,r.jsx)(p.SZ,{children:"Complete details and attachments"})]}),(0,r.jsx)(p.aY,{children:(0,r.jsxs)(j.mQ,{defaultValue:"personal",children:[(0,r.jsxs)(j.dr,{className:"grid grid-cols-4 mb-4",children:[(0,r.jsxs)(j.SP,{value:"personal",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-2 hidden sm:inline-block"}),"Personal"]}),(0,r.jsxs)(j.SP,{value:"vehicle",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 mr-2 hidden sm:inline-block"}),"Vehicle"]}),(0,r.jsxs)(j.SP,{value:"license",children:[(0,r.jsx)(f,{className:"h-4 w-4 mr-2 hidden sm:inline-block"}),"License"]}),(0,r.jsxs)(j.SP,{value:"business",children:[(0,r.jsx)(h,{className:"h-4 w-4 mr-2 hidden sm:inline-block"}),"Business"]})]}),(0,r.jsxs)(j.nU,{value:"personal",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),(0,r.jsx)("p",{className:"text-base",children:a.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Email Address"}),(0,r.jsx)("p",{className:"text-base",children:a.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Phone Number"}),(0,r.jsx)("p",{className:"text-base",children:a.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Registration Date"}),(0,r.jsx)("p",{className:"text-base",children:new Date(a.registrationDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),(0,r.jsx)("p",{className:"text-base",children:a.address})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Profile Photo"}),(0,r.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden border",children:(0,r.jsx)(l(),{src:a.profilePhoto,alt:"Profile Photo",fill:!0,className:"object-contain"})}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",className:"mt-2",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Download Photo"]})]})]}),(0,r.jsxs)(j.nU,{value:"vehicle",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Vehicle Model"}),(0,r.jsx)("p",{className:"text-base",children:a.vehicleModel})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Plate Number"}),(0,r.jsx)("p",{className:"text-base",children:a.vehiclePlate})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Year"}),(0,r.jsx)("p",{className:"text-base",children:a.vehicleYear})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Color"}),(0,r.jsx)("p",{className:"text-base",children:a.vehicleColor})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Vehicle Photo"}),(0,r.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden border",children:(0,r.jsx)(l(),{src:a.vehiclePhoto,alt:"Vehicle Photo",fill:!0,className:"object-contain"})}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",className:"mt-2",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Download Photo"]})]})]}),(0,r.jsxs)(j.nU,{value:"license",className:"space-y-4",children:[(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"License Number"}),(0,r.jsx)("p",{className:"text-base",children:a.licenseNumber})]})}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"License Photo"}),(0,r.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden border",children:(0,r.jsx)(l(),{src:a.licensePhoto,alt:"License Photo",fill:!0,className:"object-contain"})}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",className:"mt-2",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Download Photo"]})]})]}),(0,r.jsx)(j.nU,{value:"business",className:"space-y-4",children:(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Business Permit"}),(0,r.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden border",children:(0,r.jsx)(l(),{src:a.businessPermitPhoto,alt:"Business Permit",fill:!0,className:"object-contain"})}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",className:"mt-2",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Download Document"]})]})})]})})]})]})]})}},35974:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var r=s(57437);s(2265);var n=s(90535),i=s(94508);let a=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)(a({variant:s}),t),...n})}},62869:function(e,t,s){"use strict";s.d(t,{d:function(){return o},z:function(){return c}});var r=s(57437),n=s(2265),i=s(37053),a=s(90535),l=s(94508);let o=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,size:a,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:n,size:a,className:s})),ref:t,...d})});c.displayName="Button"},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return a},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var r=s(57437),n=s(2265),i=s(94508);let a=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});a.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});o.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...n})});u.displayName="CardFooter"},12339:function(e,t,s){"use strict";s.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return l},nU:function(){return d}});var r=s(57437),n=s(2265),i=s(99305),a=s(94508);let l=i.fC,o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(i.aV,{ref:t,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});o.displayName=i.aV.displayName;let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(i.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n})});c.displayName=i.xz.displayName;let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(i.VY,{ref:t,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n})});d.displayName=i.VY.displayName},94508:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var r=s(61994),n=s(53335);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}},32660:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},92369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},27648:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var r=s(72972),n=s.n(r)},48461:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return o},getImageProps:function(){return l}});let r=s(47043),n=s(55346),i=s(65878),a=r._(s(5084));function l(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let o=i.Image},6741:function(e,t,s){"use strict";function r(e,t,{checkForDefaultPrevented:s=!0}={}){return function(r){if(e?.(r),!1===s||!r.defaultPrevented)return t?.(r)}}s.d(t,{M:function(){return r}})},73966:function(e,t,s){"use strict";s.d(t,{b:function(){return a},k:function(){return i}});var r=s(2265),n=s(57437);function i(e,t){let s=r.createContext(t),i=e=>{let{children:t,...i}=e,a=r.useMemo(()=>i,Object.values(i));return(0,n.jsx)(s.Provider,{value:a,children:t})};return i.displayName=e+"Provider",[i,function(n){let i=r.useContext(s);if(i)return i;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function a(e,t=[]){let s=[],i=()=>{let t=s.map(e=>r.createContext(e));return function(s){let n=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:n}}),[s,n])}};return i.scopeName=e,[function(t,i){let a=r.createContext(i),l=s.length;s=[...s,i];let o=t=>{let{scope:s,children:i,...o}=t,c=s?.[e]?.[l]||a,d=r.useMemo(()=>o,Object.values(o));return(0,n.jsx)(c.Provider,{value:d,children:i})};return o.displayName=t+"Provider",[o,function(s,n){let o=n?.[e]?.[l]||a,c=r.useContext(o);if(c)return c;if(void 0!==i)return i;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=s.reduce((t,{useScope:s,scopeName:r})=>{let n=s(e)[`__scope${r}`];return{...t,...n}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return s.scopeName=t.scopeName,s}(i,...t)]}},29114:function(e,t,s){"use strict";s.d(t,{gm:function(){return i}});var r=s(2265);s(57437);var n=r.createContext(void 0);function i(e){let t=r.useContext(n);return e||t||"ltr"}},99255:function(e,t,s){"use strict";s.d(t,{M:function(){return o}});var r,n=s(2265),i=s(61188),a=(r||(r=s.t(n,2)))["useId".toString()]||(()=>void 0),l=0;function o(e){let[t,s]=n.useState(a());return(0,i.b)(()=>{e||s(e=>e??String(l++))},[e]),e||(t?`radix-${t}`:"")}},26606:function(e,t,s){"use strict";s.d(t,{W:function(){return n}});var r=s(2265);function n(e){let t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}},80886:function(e,t,s){"use strict";s.d(t,{T:function(){return i}});var r=s(2265),n=s(26606);function i({prop:e,defaultProp:t,onChange:s=()=>{}}){let[i,a]=function({defaultProp:e,onChange:t}){let s=r.useState(e),[i]=s,a=r.useRef(i),l=(0,n.W)(t);return r.useEffect(()=>{a.current!==i&&(l(i),a.current=i)},[i,a,l]),s}({defaultProp:t,onChange:s}),l=void 0!==e,o=l?e:i,c=(0,n.W)(s);return[o,r.useCallback(t=>{if(l){let s="function"==typeof t?t(e):t;s!==e&&c(s)}else a(t)},[l,e,a,c])]}},61188:function(e,t,s){"use strict";s.d(t,{b:function(){return n}});var r=s(2265),n=globalThis?.document?r.useLayoutEffect:()=>{}}},function(e){e.O(0,[181,799,153,305,367,971,117,744],function(){return e(e.s=80215)}),_N_E=e.O()}]);