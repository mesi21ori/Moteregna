(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{74143:function(e,a,t){Promise.resolve().then(t.bind(t,81678))},81678:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return C}});var r=t(57437),s=t(2265),n=t(99376),i=t(79205);let d=(0,i.Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var o=t(51884),l=t(95805),c=t(44794);let u=(0,i.Z)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),h=(0,i.Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),f=(0,i.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),m=(0,i.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var p=t(58293),x=t(62869);t(47960);var y=t(27648),g=t(53475),v=t(90535),b=t(32489),k=t(94508);let j=g.fC,w=g.xz;g.x8;let N=g.h_,z=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(g.aV,{className:(0,k.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a})});z.displayName=g.aV.displayName;let M=(0,v.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Z=s.forwardRef((e,a)=>{let{side:t="right",className:s,children:n,...i}=e;return(0,r.jsxs)(N,{children:[(0,r.jsx)(z,{}),(0,r.jsxs)(g.VY,{ref:a,className:(0,k.cn)(M({side:t}),s),...i,children:[n,(0,r.jsxs)(g.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function C(e){var a;let{children:t}=e,i=(0,n.usePathname)(),g=(0,n.useRouter)(),[v,b]=(0,s.useState)(null),[k,N]=(0,s.useState)(null),[z,M]=(0,s.useState)(!1),[C,A]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/verify",{method:"GET",credentials:"include"});if(!e.ok)throw Error("Session verification failed");let a=await e.json();a.user&&(N(a.user),b(a.user.role.toLowerCase()))}catch(e){g.push("/signin")}finally{M(!0)}})()},[g]);let V=[{name:"Dashboard",href:"/dashboard",icon:d},..."superadmin"===v?[{name:"Admin Management",href:"/dashboard/admins",icon:o.Z}]:[],{name:"Motorists",href:"/dashboard/motorists",icon:l.Z},{name:"Deliveries",href:"/dashboard/deliveries",icon:c.Z},{name:"Locations",href:"/dashboard/locations",icon:u},{name:"Statistics",href:"/dashboard/statistics",icon:h},{name:"Pricing",href:"superadmin"===v?"/dashboard/pricing":"/dashboard/addpricing",icon:f}];if(!z||!v)return(0,r.jsxs)("div",{className:"flex min-h-screen",children:[(0,r.jsx)("div",{className:"hidden md:block w-64 border-r bg-gradient-primary"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"h-16 border-b glass-card"}),(0,r.jsx)("main",{className:"p-6",children:"Loading..."})]})]});let P=()=>(0,r.jsxs)("div",{className:"flex flex-col h-full mt-4",children:[(0,r.jsx)("div",{className:"flex flex-col gap-2 px-4 py-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"rounded-md bg-gradient-primary p-1 ",children:(0,r.jsx)(m,{className:"h-6 w-6 text-primary-foreground"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-lg font-bold text-white",children:"Admin Panel"}),(0,r.jsx)("span",{className:"text-xs text-white/70 capitalize",children:v.replace("superadmin","super admin")})]})]})}),(0,r.jsx)("nav",{className:"flex-1 overflow-auto py-2 ",children:(0,r.jsx)("div",{className:"px-3 space-y-1",children:V.map(e=>(0,r.jsxs)(y.default,{href:e.href,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-colors ".concat(i===e.href?"bg-white/20 text-white font-medium":"text-white/70 hover:bg-white/10 hover:text-white"),onClick:()=>A(!1),children:[(0,r.jsx)(e.icon,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:e.name})]},e.name))})})]});return(0,r.jsxs)("div",{className:"flex min-h-screen flex-col md:flex-row",children:[(0,r.jsx)("aside",{className:"hidden md:flex md:w-64 md:flex-col bg-gradient-primary fixed h-screen",children:(0,r.jsx)(P,{})}),(0,r.jsxs)(j,{open:C,onOpenChange:A,children:[(0,r.jsx)(w,{asChild:!0,className:"md:hidden",children:(0,r.jsx)(x.z,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Open menu",children:(0,r.jsx)(p.Z,{className:"h-5 w-5"})})}),(0,r.jsx)(Z,{side:"left",className:"p-0 w-[280px] bg-gradient-primary border-r-0",onOpenAutoFocus:e=>e.preventDefault(),children:(0,r.jsx)(P,{})})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col md:ml-64",children:[(0,r.jsxs)("header",{className:"sticky top-0 z-10 flex h-16 items-center gap-4 border-b glass-card px-4 md:px-6",children:[(0,r.jsx)(x.z,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>A(!0),"aria-label":"Open menu",children:(0,r.jsx)(p.Z,{className:"h-5 w-5"})}),(0,r.jsx)("h1",{className:"text-lg font-semibold flex-1",children:(null===(a=V.find(e=>(null!=i?i:"").startsWith(e.href)))||void 0===a?void 0:a.name)||"Dashboard"})]}),(0,r.jsx)("main",{className:"flex-1 p-4 md:p-6 overflow-auto",children:t})]})]})}Z.displayName=g.VY.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(g.Dx,{ref:a,className:(0,k.cn)("text-lg font-semibold text-foreground",t),...s})}).displayName=g.Dx.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(g.dk,{ref:a,className:(0,k.cn)("text-sm text-muted-foreground",t),...s})}).displayName=g.dk.displayName},62869:function(e,a,t){"use strict";t.d(a,{d:function(){return o},z:function(){return l}});var r=t(57437),s=t(2265),n=t(37053),i=t(90535),d=t(94508);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,a)=>{let{className:t,variant:s,size:i,asChild:l=!1,...c}=e,u=l?n.g7:"button";return(0,r.jsx)(u,{className:(0,d.cn)(o({variant:s,size:i,className:t})),ref:a,...c})});l.displayName="Button"},94508:function(e,a,t){"use strict";t.d(a,{cn:function(){return n}});var r=t(61994),s=t(53335);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.m6)((0,r.W)(a))}},79205:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});var r=t(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:s=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:u,...h}=e;return(0,r.createElement)("svg",{ref:a,...i,width:s,height:s,stroke:t,strokeWidth:o?24*Number(d)/Number(s):d,className:n("lucide",l),...h},[...u.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(c)?c:[c]])}),o=(e,a)=>{let t=(0,r.forwardRef)((t,i)=>{let{className:o,...l}=t;return(0,r.createElement)(d,{ref:i,iconNode:a,className:n("lucide-".concat(s(e)),o),...l})});return t.displayName="".concat(e),t}},58293:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},44794:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},51884:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]])},95805:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},27648:function(e,a,t){"use strict";t.d(a,{default:function(){return s.a}});var r=t(72972),s=t.n(r)},99376:function(e,a,t){"use strict";var r=t(35475);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},47960:function(){}},function(e){e.O(0,[711,317,793,153,347,971,117,744],function(){return e(e.s=74143)}),_N_E=e.O()}]);